<div class="page">
  <div class="menus">
    <div class="item">
      <img src="/assets/img/favicon.ico" />
    </div>
    <div class="item">
      <a>
        文件
      </a>
      <div class="dropdown">
        <div class="item">
          <a class="flex" (click)="onNew()">
            新建文件
            <span class="ml50">Ctrl + Alt + N</span>
          </a>
        </div>
        <div class="item">
          <a (click)="onOpen()">
            打开文件...
            <span class="ml50">Ctrl + O</span>
          </a>
        </div>
        <div class="item line"></div>
        <div class="item">
          <a>
            保存到云端
            <span class="ml50">Ctrl + S</span>
          </a>
        </div>
        <div class="item">
          <a>
            另存为...（在云端）
            <span class="ml50">Ctrl + Shift + S</span>
          </a>
        </div>
        <div class="item">
          <a (click)="onSaveLocal()">
            保存到本地
            <span class="ml50">Alt + Shift + S</span>
          </a>
        </div>
        <div class="item line"></div>
        <div class="item">
          <a (click)="onSavePng()">
            下载PNG
            <span class="ml50">Ctrl + D</span>
          </a>
        </div>
      </div>
    </div>
    <div class="item">
      <a>编辑</a>
      <div class="dropdown">
        <div class="item">
          <a (click)="canvas.undo()">
            撤消
            <span class="ml50">Ctrl + Z</span>
          </a>
        </div>
        <div class="item">
          <a (click)="canvas.redo()">
            恢复
            <span class="ml50">Ctrl + Shift+ Z</span>
          </a>
        </div>
        <div class="item line"></div>
        <div class="item">
          <a (click)="onCut()">
            剪切
            <span class="ml50">Ctrl + X</span>
          </a>
        </div>
        <div class="item">
          <a (click)="onCopy()">
            复制
            <span class="ml50">Ctrl + C</span>
          </a>
        </div>
        <div class="item">
          <a (click)="onParse()">
            粘贴
            <span class="ml50">Ctrl + V</span>
          </a>
        </div>
      </div>
    </div>
    <div class="item">
      <a>查看</a>
      <div class="dropdown">
        <div class="item">
          <a class="flex ">
            基本形状
          </a>
        </div>
        <div class="item">
          <a class="flex ">
            流程图
          </a>
        </div>
        <div class="item">
          <a class="flex ">
            活动图
          </a>
        </div>
        <div class="item">
          <a class="flex ">
            UML类图
          </a>
        </div>
        <div class="item line"></div>
        <div class="item">
          <a>
            更多...
          </a>
        </div>
      </div>
    </div>
    <div class="item">
      <a>社区</a>
      <div class="dropdown">
        <div class="item">
          <a class="flex ">
            推荐图文
          </a>
        </div>
        <div class="item line"></div>
        <div class="item">
          <a class="flex ">
            咨询与建议
          </a>
        </div>
        <div class="item">
          <a class="flex ">
            开源（GitHub）
          </a>
        </div>
        <div class="item line"></div>
        <div class="item">
          <a>
            分享
          </a>
        </div>
      </div>
    </div>
    <div class="item">
      <a>帮助</a>
      <div class="dropdown">
        <div class="item">
          <a class="flex ">
            欢迎使用
          </a>
        </div>
        <div class="item">
          <a class="flex ">
            API开发教程
          </a>
        </div>
        <div class="item line"></div>
        <div class="item">
          <a class="flex ">
            许可与声明
          </a>
        </div>
        <div class="item line"></div>
        <div class="item">
          <a class="flex ">
            捐助与加入
          </a>
        </div>
        <div class="item">
          <a class="flex ">
            联系
          </a>
        </div>
        <div class="item line"></div>
        <div class="item">
          <a>
            关于
          </a>
        </div>
      </div>
    </div>
    <div class="full flex tools">
      <div class="flex ml50">
        <!-- <div class="item">
          <a title="撤消">
            <i class="iconfont icon-reply"></i>
          </a>
        </div>
        <div class="item">
          <a title="恢复">
            <i class="iconfont icon-redo"></i>
          </a>
        </div> -->
      </div>
      <div class="flex">
        <div class="item">
          <a title="保存到云端">
            <i class="iconfont icon-upload"></i>
          </a>
        </div>
        <div class="item">
          <a title="保存到本地" (click)="onSaveLocal()">
            <i class="iconfont icon-download"></i>
          </a>
        </div>
        <div class="item">
          <a title="分享">
            <i class="iconfont icon-share"></i>
          </a>
        </div>
        <div class="item ml20">
          <a title="推荐图文">
            <i class="iconfont icon-fly"></i>
          </a>
        </div>
      </div>
    </div>
    <div class="flex ph20">
      <div class="item">
        <a>注册</a>
      </div>
      <div class="gray">/</div>
      <div class="item">
        <a>登录</a>
      </div>
    </div>
  </div>
  <div class="body">
    <div class="tools">
      <div *ngFor="let item of tools">
        <div class="title">{{ item.group }}</div>
        <div class="buttons">
          <a
            *ngFor="let button of item.children"
            [title]="button.name"
            [draggable]="button.data"
            (dragstart)="onDrag($event, button)"
          >
            <i class="iconfont {{ button.icon }}"></i>
          </a>
        </div>
      </div>
    </div>
    <div class="full" #workspace></div>
    <div class="props">
      <div class="title">
        <span class="nowrap line one">{{ filename }}</span>
        <span class="mh5" *ngIf="selectedNodes || selectedLine">/</span>
        <span class="line one">
          <span *ngFor="let item of selectedNodes; let i = index"
            >欢迎使用le5le-topology！{{ item.text + (i < selectedNodes.length - 1 ? ', ' : '') }}</span
          >
        </span>
      </div>
      <div class="pv5">
        <div *ngIf="!selectedNodes && !selectedLine">
          <div class="ph15">
            欢迎使用le5le-topology！<br />
            le5le-topology愿景是以便捷、开放、可扩展、云存储、社区互动等方式帮助我们快速的创建微服务拓扑图、微服务流量图、软件项目设计图、流程图、活动图、时序图、类图、甚至UML各种图。
            <br /><br />
            当然，还有更多你想要的，只要你想。le5le-topology定义和实现了框架和主流程，以中间件的方式可以进行无限扩展，你要画什么图，一切都交给你；还能通过npm基础库的方式分享，让我们人人都可以成为设计师分享、互动和绽放！
            <br />
            <br />
            <a>使用教程</a><br />
            <a>API开发教程</a><br />
            <a>联系我们</a>
          </div>
          <div class="title mt20">[Todo] 未来规划</div>
          <ul class="ml30 mb20">
            <li>动画</li>
            <li>编辑/只读模式</li>
            <li>流程图</li>
            <li>活动图</li>
            <li>类图</li>
            <li>账户与云存储</li>
            <li>官网</li>
            <li>使用文档</li>
            <li>API开发文档</li>
            <li>社区与分享</li>
          </ul>
        </div>
        <div *ngIf="selectedNodes"></div>
        <div *ngIf="selectedLine"></div>
      </div>
    </div>
  </div>
</div>

<img src="/assets/img/logo.png" hidden="hidden" />
